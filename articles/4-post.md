vi的基本概念
===========

### 基本上vi可以分为三种状态
    
    1. 命令行模式command mode）
　　控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode。
    2. 插入模式（Insert mode）
　　只有在Insert mode下，才可以做文字输入，按「ESC」键可回到命令行模式。
    3. 底行模式（last line mode）
　　将文件保存或退出vi，也可以设置编辑环境，如寻找字符串、列出行号……等。
 
    不过一般我们在使用时把vi简化成两个模式，就是将底行模式（last line mode）也算入命令行模式command mode）。

### 模式间切换

    1. 命令行模式->底行模式(Shitf+:)，命令行模式->插入模式(i)
    2. 底行模式->命令行模式(Esc)，底行模式->插入模式(先进入命令模式，再进入插入模式)
    3. 插入模式->命令行模式(Esc)，插入模式->底行模式(先进入命令行模式，再进入底行模式)

vi的基本操作
===========

1. 进入VI
   * vi filename :打开或新建文档，并将光标置于第一行首
   * vi +n filename ：打开文档，并将光标置于第n行首
   * vi + filename ：打开文档，并将光标置于最后一行首
   * vi +/pattern filename：打开文档，并将光标置于第一个和pattern匹配的串处
   * vi -r filename ：在上次正用vi编辑时发生系统崩溃，恢复filename
   * vi filename....filename ：打开多个文档，依次编辑
2. 移动光标类命令
   * space：光标右移一个字符
   * Backspace：光标左移一个字符
   * k或Ctrl+p：光标上移一行
   * j或Ctrl+n ：光标下移一行
   * Enter ：光标下移一行
   * n+：光标下移n行
   * n-：光标上移n行
   * L ：光标移至屏幕最后行
   * H ：光标移至屏幕第一行
   * 0：（注意是数字零）光标移至当前行首
   * $：光标移至当前行尾 

3. 屏幕翻滚类命令
   * Ctrl+u：向文档首翻半屏
   * Ctrl+d：向文档尾翻半屏
   * Ctrl+f：向文档尾翻一屏
   * Ctrl＋b: 向文档首翻一屏 
4. 插入文本类命令
   
   * i ：在光标前
   * I ：在当前行首
   * A：在当前行尾
   * o：在当前行之下新开一行
5. 替换命令
   * R：替换当前字符及其后的字符，直至按ESC键
6. 删除命令
   * do：删至行首
   * d$：删至行尾
   * dd : 删除当前行
   * ndd：删除当前行及其后n-1行
   * Ctrl+u：删除输入方式下所输入的文本
7. 复制命令
   * yy 复制光标当前行
   * nyy 复制当前光标及以下的n行
8. 搜索及替换命令
   * :/pattern：从光标开始处向文档尾搜索pattern
   * :?pattern：从光标开始处向文档首搜索pattern
   * n：在同一方向重复上一次搜索命令(结合 /pattern  ?pattern，命令行模式) 
   * ：s/p1/p2/g：将当前行中任何p1均用p2替代
   * ：n1,n2s/p1/p2/g：将第n1至n2行中任何p1均用p2替代
   * ：g/p1/s//p2/g：将文档中任何p1均用p2替换
9. 其他
   * set nu 显示行号
   * p 粘贴
   * u 取消操作
   * ：n1,n2 co n3：将n1行到n2行之间的内容拷贝到第n3行下
   * ：n1,n2 m n3：将n1行到n2行之间的内容移至到第n3行下
   * ：n1,n2 d ：将n1行到n2行之间的内容删除
   * ：w ：保存当前文档
   * ：e filename：打开文档filename进行编辑
   * ：x：保存当前文档并退出
   * ：q：退出vi
   * ：q!：不保存文档并退出vi

